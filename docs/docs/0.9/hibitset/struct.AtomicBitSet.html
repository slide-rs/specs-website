<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `AtomicBitSet` struct in crate `hibitset`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, AtomicBitSet">

    <title>hibitset::AtomicBitSet - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct AtomicBitSet</p><div class="block items"><ul><li><a href="#methods">Methods</a></li><li><a href="#implementations">Trait Implementations</a></li></ul></div><p class='location'><a href='index.html'>hibitset</a></p><script>window.sidebarCurrent = {name: 'AtomicBitSet', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>hibitset</a>::<wbr><a class="struct" href=''>AtomicBitSet</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/hibitset/atomic.rs.html#30-34' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct AtomicBitSet { /* fields omitted */ }</pre><div class='docblock'><p>This is similar to a <a href="../struct.BitSet.html"><code>BitSet</code></a> but allows setting of value
without unique ownership of the structure</p>

<p>An <code>AtomicBitSet</code> has the ability to add an item to the set
without unique ownership (given that the set is big enough).
Removing elements does require unique ownership as an effect
of the hierarchy it holds. Worst case multiple writers set the
same bit twice (but only is told they set it).</p>

<p>It is possible to atomically remove from the set, but not at the
same time as atomically adding. This is because there is no way
to know if layer 1-3 would be left in a consistent state if they are
being cleared and set at the same time.</p>

<p><code>AtromicBitSet</code> resolves this race by disallowing atomic
clearing of bits.</p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl <a class="struct" href="../hibitset/struct.AtomicBitSet.html" title="struct hibitset::AtomicBitSet">AtomicBitSet</a></code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#36-151' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../hibitset/struct.AtomicBitSet.html" title="struct hibitset::AtomicBitSet">AtomicBitSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#38-40' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Creates an empty <code>AtomicBitSet</code>.</p>
</div><h4 id='method.add_atomic' class="method"><span id='add_atomic.v' class='invisible'><code>pub fn <a href='#method.add_atomic' class='fnname'>add_atomic</a>(&amp;self, id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#48-60' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Adds <code>id</code> to the <code>AtomicBitSet</code>. Returns <code>true</code> if the value was
already in the set.</p>

<p>Because we cannot safely extend an AtomicBitSet without unique ownership
this will panic if the Index is out of range.</p>
</div><h4 id='method.add' class="method"><span id='add.v' class='invisible'><code>pub fn <a href='#method.add' class='fnname'>add</a>(&amp;mut self, id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#65-77' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Adds <code>id</code> to the <code>BitSet</code>. Returns <code>true</code> if the value was
already in the set.</p>
</div><h4 id='method.remove' class="method"><span id='remove.v' class='invisible'><code>pub fn <a href='#method.remove' class='fnname'>remove</a>(&amp;mut self, id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#83-110' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Removes <code>id</code> from the set, returns <code>true</code> if the value
was removed, and <code>false</code> if the value was not set
to begin with.</p>
</div><h4 id='method.contains' class="method"><span id='contains.v' class='invisible'><code>pub fn <a href='#method.contains' class='fnname'>contains</a>(&amp;self, id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#114-117' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns <code>true</code> if <code>id</code> is in the set.</p>
</div><h4 id='method.clear' class="method"><span id='clear.v' class='invisible'><code>pub fn <a href='#method.clear' class='fnname'>clear</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#120-150' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Clear all bits in the set</p>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Debug' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../hibitset/struct.AtomicBitSet.html" title="struct hibitset::AtomicBitSet">AtomicBitSet</a></code><a href='#impl-Debug' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#29' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#29' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 id='impl-BitSetLike' class='impl'><span class='in-band'><code>impl <a class="trait" href="../hibitset/trait.BitSetLike.html" title="trait hibitset::BitSetLike">BitSetLike</a> for <a class="struct" href="../hibitset/struct.AtomicBitSet.html" title="struct hibitset::AtomicBitSet">AtomicBitSet</a></code><a href='#impl-BitSetLike' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#153-175' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.layer3' class="method"><span id='layer3.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#tymethod.layer3' class='fnname'>layer3</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#155-157' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return a usize where each bit represents if any word in layer2 has been set. <a href="../hibitset/trait.BitSetLike.html#tymethod.layer3">Read more</a></p>
</div><h4 id='method.layer2' class="method"><span id='layer2.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#tymethod.layer2' class='fnname'>layer2</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#159-161' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the usize from the array of usizes that indicates if any bit has been set in layer1 <a href="../hibitset/trait.BitSetLike.html#tymethod.layer2">Read more</a></p>
</div><h4 id='method.layer1' class="method"><span id='layer1.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#tymethod.layer1' class='fnname'>layer1</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#163-165' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the usize from the array of usizes that indicates if any bit has been set in layer0 <a href="../hibitset/trait.BitSetLike.html#tymethod.layer1">Read more</a></p>
</div><h4 id='method.layer0' class="method"><span id='layer0.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#tymethod.layer0' class='fnname'>layer0</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#167-174' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return a usize that maps to the direct 1:1 association with each index of the set <a href="../hibitset/trait.BitSetLike.html#tymethod.layer0">Read more</a></p>
</div><h4 id='method.iter' class="method"><span id='iter.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#method.iter' class='fnname'>iter</a>(self) -&gt; <a class="struct" href="../hibitset/struct.BitIter.html" title="struct hibitset::BitIter">BitIter</a>&lt;Self&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/lib.rs.html#200-206' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Create an iterator that will scan over the keyspace</p>
</div><h4 id='method.par_iter' class="method"><span id='par_iter.v' class='invisible'><code>fn <a href='../hibitset/trait.BitSetLike.html#method.par_iter' class='fnname'>par_iter</a>(self) -&gt; <a class="struct" href="../hibitset/struct.BitParIter.html" title="struct hibitset::BitParIter">BitParIter</a>&lt;Self&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/lib.rs.html#210-214' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Create a parallel iterator that will scan over the keyspace</p>
</div></div><h3 id='impl-Default' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="../hibitset/struct.AtomicBitSet.html" title="struct hibitset::AtomicBitSet">AtomicBitSet</a></code><a href='#impl-Default' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#177-191' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.default' class="method"><span id='default.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default' class='fnname'>default</a>() -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/hibitset/atomic.rs.html#178-190' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the &quot;default value&quot; for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "hibitset";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>